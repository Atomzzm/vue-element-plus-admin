var pe=Object.defineProperty;var G=Object.getOwnPropertySymbols;var Z=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var Y=(o,t,l)=>t in o?pe(o,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):o[t]=l,R=(o,t)=>{for(var l in t||(t={}))Z.call(t,l)&&Y(o,l,t[l]);if(G)for(var l of G(t))N.call(t,l)&&Y(o,l,t[l]);return o};var L=(o,t)=>{var l={};for(var r in o)Z.call(o,r)&&t.indexOf(r)<0&&(l[r]=o[r]);if(o!=null&&G)for(var r of G(o))t.indexOf(r)<0&&N.call(o,r)&&(l[r]=o[r]);return l};var m=(o,t,l)=>new Promise((r,s)=>{var b=u=>{try{E(l.next(u))}catch(d){s(d)}},f=u=>{try{E(l.throw(u))}catch(d){s(d)}},E=u=>u.done?r(u.value):Promise.resolve(u.value).then(b,f);E((l=l.apply(o,t)).next())});import{O as C,G as x,l as be,a as U,e as ee,d as Ee,u as i,b as Te,_ as Oe,$ as Ie,y as Se,P as Re}from"./vue-chunks-DV3VEwyd.js";import{c as Ce,x as _e,y as oe,z as Pe,p as O,b as ve,A as ge,_ as Ae}from"./index-TMlqmkkJ.js";/* empty css               *//* empty css                  *//* empty css               *//* empty css                    */import{g as he}from"./el-radio-button-DLU06GEV.js";/* empty css                        *//* empty css                      *//* empty css                   *//* empty css                *//* empty css                    */import{I as ke}from"./InputPassword-BIPI36e2.js";import{_ as De}from"./style.css_vue_type_style_index_0_src_true_lang-DBFc4jfT.js";import{_ as xe}from"./JsonEditor.vue_vue_type_script_setup_true_lang-BW0m3Rw3.js";import{I as ye}from"./IconPicker-D3DhxZY9.js";import{_ as Ue}from"./IAgree.vue_vue_type_script_setup_true_lang-CTqQuJ0N.js";import{L as le,M as re,B as Me,N as Be,G as Ge,O as we,P as Le,H as Fe,Q as Ve,R as Ke,S as je,T as $e,U as He,V as We,k as Xe,W as ze,X as Je,Y as qe,Z as Qe,_ as V,t as K,w as Ye,v as Ze,x as Ne,y as me,z as eo,A as oo,$ as lo,s as ro,p as to,C as so}from"./element-plus-5SedE8ZF.js";const te={RadioGroup:le,RadioButton:le,CheckboxGroup:re,CheckboxButton:re,Input:Me,Autocomplete:Be,InputNumber:Ge,Select:we,Cascader:Le,Switch:Fe,Slider:Ve,TimePicker:Ke,DatePicker:je,Rate:$e,ColorPicker:He,Transfer:We,Divider:Xe,TimeSelect:ze,SelectV2:Je,InputPassword:ke,Editor:De,TreeSelect:qe,Upload:Qe,JsonEditor:xe,IconPicker:ye,IAgree:Ue};var p=(o=>(o.RADIO_GROUP="RadioGroup",o.RADIO_BUTTON="RadioButton",o.CHECKBOX_GROUP="CheckboxGroup",o.CHECKBOX_BUTTON="CheckboxButton",o.INPUT="Input",o.AUTOCOMPLETE="Autocomplete",o.INPUT_NUMBER="InputNumber",o.SELECT="Select",o.CASCADER="Cascader",o.SWITCH="Switch",o.SLIDER="Slider",o.TIME_PICKER="TimePicker",o.DATE_PICKER="DatePicker",o.RATE="Rate",o.COLOR_PICKER="ColorPicker",o.TRANSFER="Transfer",o.DIVIDER="Divider",o.TIME_SELECT="TimeSelect",o.SELECT_V2="SelectV2",o.INPUT_PASSWORD="InputPassword",o.EDITOR="Editor",o.TREE_SELECT="TreeSelect",o.UPLOAD="Upload",o.JSON_EDITOR="JsonEditor",o.ICON_PICKER="IconPicker",o.I_AGREE="IAgree",o))(p||{});const{t:w}=Ce(),se=o=>{var r,s;const t=[p.INPUT,p.AUTOCOMPLETE,p.INPUT_NUMBER,p.INPUT_PASSWORD],l=[p.SELECT,p.TIME_PICKER,p.DATE_PICKER,p.TIME_SELECT,p.SELECT_V2];return t.includes(o==null?void 0:o.component)?{placeholder:w("common.inputText")}:l.includes(o==null?void 0:o.component)?["datetimerange","daterange","monthrange","datetimerange","daterange"].includes(((r=o==null?void 0:o.componentProps)==null?void 0:r.type)||((s=o==null?void 0:o.componentProps)==null?void 0:s.isRange))?{startPlaceholder:w("common.startTimeText"),endPlaceholder:w("common.endTimeText"),rangeSeparator:"-"}:{placeholder:w("common.selectText")}:{}},ao=(o={})=>R(R({},o.span?{}:{xs:24,sm:12,md:12,lg:12,xl:12}),o),ae=o=>{var s;const t=((s=o==null?void 0:o.componentProps)==null?void 0:s.on)||{},l={};for(const b in t)t[b]&&(l[`on${Pe(b)}`]=(...f)=>{t[b](...f)});const r=R(R({clearable:!0},o.componentProps),l);return r.slots&&delete r.slots,r.on&&delete r.on,r},no=(o={})=>{const t={};for(const l in o)o[l]&&(_e(o[l])?t[oe(l)]=(...r)=>{var s;return(s=o[l])==null?void 0:s.call(o,...r)}:t[oe(l)]=()=>o[l]);return t},co=(o,t)=>{const l=R({},t);return o.map(r=>{if(r.remove)delete l[r.field];else if(r.component!=="Divider"){const s=V(l,r.field);K(l,r.field,s!==void 0?V(l,r.field):r.value!==void 0?r.value:void 0)}}),l},fo=()=>{const o=l=>{var E,u,d,I;const r=l==null?void 0:l.componentProps,s=(E=r==null?void 0:r.slots)==null?void 0:E.optionGroupDefault,b=(u=r==null?void 0:r.props)==null?void 0:u.label,f=(d=r==null?void 0:r.props)==null?void 0:d.key;return(I=r==null?void 0:r.options)==null?void 0:I.map(c=>{var P;return(P=c==null?void 0:c.options)!=null&&P.length?s?s(c):C(Ye,{label:c[b||"label"],key:c[f||"key"]},{default:()=>{var A;return(A=c==null?void 0:c.options)==null?void 0:A.map(_=>t(l,_))}}):t(l,c)})},t=(l,r)=>{var d,I,c,P;const s=l.componentProps,b=(d=s==null?void 0:s.props)==null?void 0:d.label,f=(I=s==null?void 0:s.props)==null?void 0:I.value,E=(c=s==null?void 0:s.props)==null?void 0:c.key,u=(P=s.slots)==null?void 0:P.optionDefault;return C(Ze,x(r,{key:r[E||"key"],label:r[b||"label"],value:r[f||"value"]}),{default:()=>u?u(r):void 0})};return{renderSelectOptions:o}},uo=()=>({renderRadioOptions:t=>{var E,u,d,I;const l=t==null?void 0:t.componentProps,r=((E=l==null?void 0:l.props)==null?void 0:E.value)||"value",s=((u=l==null?void 0:l.props)==null?void 0:u.label)||"label",b=((d=l==null?void 0:l.props)==null?void 0:d.disabled)||"disabled",f=t.component===p.RADIO_GROUP?Ne:me;return(I=l==null?void 0:l.options)==null?void 0:I.map(c=>{const _=c,{value:P}=_,A=L(_,["value"]);return C(f,x(A,{disabled:c[b||"disabled"],label:c[r||"value"]}),{default:()=>[c[s||"label"]]})})}}),io=()=>({renderCheckboxOptions:t=>{var E,u,d,I;const l=t==null?void 0:t.componentProps,r=((E=l==null?void 0:l.props)==null?void 0:E.value)||"value",s=((u=l==null?void 0:l.props)==null?void 0:u.label)||"label",b=((d=l==null?void 0:l.props)==null?void 0:d.disabled)||"disabled",f=t.component===p.CHECKBOX_GROUP?eo:oo;return(I=l==null?void 0:l.options)==null?void 0:I.map(c=>{const _=c,{value:P}=_,A=L(_,["value"]);return C(f,x(A,{disabled:c[b||"disabled"],label:c[r||"value"]}),{default:()=>[c[s||"label"]]})})}});function F(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!Se(o)}const{renderSelectOptions:po}=fo(),{renderRadioOptions:bo}=uo(),{renderCheckboxOptions:Eo}=io(),{getPrefixCls:To}=ve(),Oo=To("form"),Io=be({name:"Form",props:{schema:{type:Array,default:()=>[]},isCol:O.bool.def(!0),model:{type:Object,default:()=>({})},autoSetPlaceholder:O.bool.def(!0),isCustom:O.bool.def(!1),labelWidth:O.oneOfType([String,Number]).def("auto"),rules:{type:Object,default:()=>({})},labelPosition:O.oneOf(["left","right","top"]).def("right"),labelSuffix:O.string.def(""),hideRequiredAsterisk:O.bool.def(!1),requireAsteriskPosition:O.oneOf(["left","right"]).def("left"),showMessage:O.bool.def(!0),inlineMessage:O.bool.def(!1),statusIcon:O.bool.def(!1),validateOnRuleChange:O.bool.def(!0),size:{type:String,default:void 0},disabled:O.bool.def(!1),scrollToError:O.bool.def(!1),scrollToErrorOffset:O.oneOfType([Boolean,Object]).def(void 0)},emits:["register"],setup(o,{slots:t,expose:l,emit:r}){const s=U(),b=U({}),f=ee(()=>{const e=R({},o);return Object.assign(e,i(b)),e}),E=U({}),u=U({}),d=U(o.model);Ee(()=>{var e;r("register",(e=i(s))==null?void 0:e.$parent,i(s))});const I=(e={})=>{d.value=Object.assign(i(d),e)},c=(e={})=>{b.value=Object.assign(i(b),e)},P=e=>{const{schema:n}=i(f),a=ge(n,S=>S.field===e);a>-1&&n.splice(a,1)},A=(e,n)=>{const{schema:a}=i(f);if(n!==void 0){a.splice(n,0,e);return}a.push(e)},_=e=>{const{schema:n}=i(f);for(const a of n)for(const S of e)a.field===S.field&&K(a,S.path,S.value)},ne=(e,n)=>m(this,null,function*(){const a=yield e();_([{field:n.field,path:n.component===p.TREE_SELECT?"componentProps.data":"componentProps.options",value:a}])}),de=e=>i(E)[e],ce=e=>i(u)[e],j=(e,n)=>{E.value[n]=e},fe=(e,n)=>{u.value[n]=e};l({setValues:I,formModel:d,setProps:c,delSchema:P,addSchema:A,setSchema:_,getComponentExpose:de,getFormItemExpose:ce}),Te(()=>i(f).schema,(e=[])=>{d.value=co(e,i(d))},{immediate:!0,deep:!0});const ue=()=>{let e;const{isCol:n}=i(f);return n?C(ro,{gutter:20},F(e=$())?e:{default:()=>[e]}):$()},$=()=>{const{schema:e=[],isCol:n}=i(f);return e.filter(a=>!a.remove&&!a.hidden).map(a=>{let S;const M=a.component==="Divider",B=te.Divider;return M?C(B,R({contentPosition:"left"},a.componentProps),{default:()=>[a==null?void 0:a.label]}):n?C(to,ao(a.colProps),F(S=H(a))?S:{default:()=>[S]}):H(a)})},H=e=>{var a,S,M,B;e.optionApi&&ne(e.optionApi,e);const n={default:()=>{var h,k,D,W,X;if((k=(h=e==null?void 0:e.formItemProps)==null?void 0:h.slots)!=null&&k.default)return(W=(D=e==null?void 0:e.formItemProps)==null?void 0:D.slots)==null?void 0:W.default(d.value);{const z=te[e.component],{autoSetPlaceholder:J}=i(f),v=((X=e==null?void 0:e.componentProps)==null?void 0:X.slots)||{},y=R({},no(v));return e.component===p.SELECT&&(y.default=v.default?()=>{var T;return v.default(i((T=e==null?void 0:e.componentProps)==null?void 0:T.options))}:()=>po(e)),e.component===p.SELECT_V2&&v.default&&(y.default=({item:T})=>v.default(T)),(e.component===p.RADIO_GROUP||e.component===p.RADIO_BUTTON)&&(y.default=v.default?()=>{var T;return v.default(i((T=e==null?void 0:e.componentProps)==null?void 0:T.options))}:()=>bo(e)),(e.component===p.CHECKBOX_GROUP||e.component===p.CHECKBOX_BUTTON)&&(y.default=v.default?()=>{var T;return v.default(i((T=e==null?void 0:e.componentProps)==null?void 0:T.options))}:()=>Eo(e)),C(Re,null,[(()=>{var q,Q;const T=ee({get:()=>V(d.value,e.field),set:g=>{K(d.value,e.field,g)}});return e.component===p.UPLOAD?C(z,x({"file-list":T.value,"onUpdate:file-list":g=>T.value=g,ref:g=>j(g,e.field)},J&&se(e),ae(e),{style:((q=e.componentProps)==null?void 0:q.style)||{width:"100%"}}),R({},y)):C(z,x({modelValue:T.value,"onUpdate:modelValue":g=>T.value=g,ref:g=>j(g,e.field)},J&&se(e),ae(e),{style:((Q=e.componentProps)==null?void 0:Q.style)||{width:"100%"}}),R({},y))})()])}}};return(S=(a=e==null?void 0:e.formItemProps)==null?void 0:a.slots)!=null&&S.label&&(n.label=(...h)=>{var k,D;return(D=(k=e==null?void 0:e.formItemProps)==null?void 0:k.slots)==null?void 0:D.label(...h)}),(B=(M=e==null?void 0:e.formItemProps)==null?void 0:M.slots)!=null&&B.error&&(n.error=(...h)=>{var k,D;return(D=(k=e==null?void 0:e.formItemProps)==null?void 0:k.slots)==null?void 0:D.error(...h)}),Oe(C(so,x({ref:h=>fe(h,e.field)},e.formItemProps||{},{prop:e.field,label:e.label||""}),F(n)?n:{default:()=>[n]}),[[Ie,!e.hidden]])},ie=()=>{const e=["schema","isCol","autoSetPlaceholder","isCustom","model"],n=R({},i(f));for(const a in n)e.indexOf(a)!==-1&&delete n[a];return n};return()=>C(lo,x({ref:s},ie(),{model:i(f).isCustom?i(f).model:d,class:Oo,onSubmit:e=>{e.preventDefault()}}),{default:()=>{const{isCustom:e}=i(f);return e?he(t,"default"):ue()}})}}),Vo=Ae(Io,[["__scopeId","data-v-f1dc03a5"]]);export{Vo as F,co as i};
